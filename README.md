# DenoFramework - Name TBD

<a alt="Deno logo" href="https://deno.land" target="_blank" rel="noreferrer"><img src="https://raw.githubusercontent.com/denolib/high-res-deno-logo/master/deno_hr_circle.png" width="75"></a>

âœ¨ **This workspace has been generated by [Nx, a Smart, fast and extensible build system.](https://nx.dev)** âœ¨

# Getting Started

Create a `deps.ts` file to manage your project dependencies:
```ts
// deps.ts
export * from "@deno-framework/nests";
```

Create a `main.ts` file:
```ts
// main.ts
import { Application, createApp, Logger } from "@deno-framework/nests";

async function bootstrap() {
    const app: Application = await createApp();

    const port = 3000;
    Logger.log(`App listening at http://localhost:${ port }`, 'Bootstrap');
    await app.listen({ port });
}

bootstrap();
```

Create a `dog.controller.ts` inside a `controllers` folder (will be reworked to automatic discovery):
```ts
import { Controller, Get } from "@deno-framework/nests";

@Controller("/dogs")
export default class DogsController {
    @Get("/")
    getDog() {
        return { name: "Retriever", cute: true, golden: true };
    }
}
```

Run the app:
```sh
deno run --allow-net --allow-read --allow-env main.ts
```

### Folder structure
```
.
â””â”€â”€ app/
    â”œâ”€â”€ src/
    â”‚   â”œâ”€â”€ controllers/
    â”‚   â”‚   â””â”€â”€ dog.controller.ts
    â”‚   â””â”€â”€ main.ts   
    â”œâ”€â”€ deno.json
    â”œâ”€â”€ deps.ts
    â””â”€â”€ import_map.json
```

## TODOs

| Feature | State |
| --- | ----------- |
| Controller-based route registration | Done âœ”ï¸ |
| Logger | Done âœ”ï¸ |
| Providers | Up next ğŸ¥‡ |
| HTTP Context | Semi âš ï¸ |
| Automatic provider & controller discovery | TBD |
| HTTP Client | TBD |
| Middlewares | TBD |
| Interceptors | TBD |
| Input validation | TBD |
| Caching | TBD |
| Life-cycle methods | TBD |
| MVC | ? |

## Literature
Deno material:
- https://deno.land/manual@v1.36.1/basics/modules
- https://nx.dev/recipes/other/deno-deploy

Inspiration:
- https://docs.nestjs.com/controllers#controllers
- https://github.com/SampaioLeal/destjs
- https://deno.land/x/oak@v12.6.0
